<style>
    .empathy-page {
        max-width: 900px;
        margin: 0 auto;
        padding: 2rem;
    }

    .empathy-card {
        background: white;
        border-radius: 40px;
        padding: 3rem;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.08);
        border: 1px solid rgba(139, 0, 0, 0.1);
    }

    .empathy-header {
        text-align: center;
        margin-bottom: 2rem;
    }

    .empathy-header h1 {
        font-size: 2.5rem;
        font-family: 'Playfair Display', serif;
        color: #8b0000;
        margin-bottom: 1rem;
    }

    .empathy-header p {
        color: #666;
        font-size: 1.1rem;
        line-height: 1.6;
    }

    .question-item {
        background: #fafafa;
        border-radius: 20px;
        padding: 1.5rem;
        margin-bottom: 1.5rem;
        border-left: 4px solid #8b0000;
        transition: all 0.3s ease;
    }

    .question-item:hover {
        background: #fff5f5;
        transform: translateX(5px);
    }

    .question-item.answered {
        border-left-color: #2d8f3f;
        background: #f0fff4;
    }

    .question-text {
        font-size: 1.1rem;
        color: #2d3436;
        margin-bottom: 1rem;
        font-weight: 500;
    }

    .question-number {
        display: inline-block;
        width: 30px;
        height: 30px;
        background: #8b0000;
        color: white;
        border-radius: 50%;
        text-align: center;
        line-height: 30px;
        font-weight: bold;
        margin-right: 10px;
        font-size: 0.9rem;
    }

    .options-row {
        display: flex;
        justify-content: space-between;
        flex-wrap: wrap;
        gap: 0.5rem;
    }

    .option-label {
        flex: 1;
        min-width: 100px;
        text-align: center;
    }

    .option-label input[type="radio"] {
        display: none;
    }

    .option-label span {
        display: block;
        padding: 0.8rem 0.5rem;
        border: 2px solid #e0e0e0;
        border-radius: 12px;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 0.85rem;
        background: white;
    }

    .option-label input[type="radio"]:checked+span {
        background: #8b0000;
        color: white;
        border-color: #8b0000;
        transform: scale(1.05);
    }

    .option-label span:hover {
        border-color: #8b0000;
        background: #fff5f5;
    }

    .submit-section {
        text-align: center;
        margin-top: 2rem;
    }

    .submit-btn {
        background: linear-gradient(135deg, #8b0000, #5c0000);
        color: white;
        padding: 1rem 3rem;
        border: none;
        border-radius: 50px;
        font-size: 1.2rem;
        font-weight: 700;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 10px 30px rgba(139, 0, 0, 0.3);
    }

    .submit-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 15px 40px rgba(139, 0, 0, 0.4);
    }

    .submit-btn:disabled {
        background: #ccc;
        cursor: not-allowed;
        transform: none;
        box-shadow: none;
    }

    .progress-indicator {
        text-align: center;
        margin-bottom: 2rem;
        font-size: 1rem;
        color: #666;
    }

    .progress-bar {
        width: 100%;
        height: 8px;
        background: #eee;
        border-radius: 10px;
        overflow: hidden;
        margin-top: 0.5rem;
    }

    .progress-fill {
        height: 100%;
        background: linear-gradient(90deg, #8b0000, #c0392b);
        width: 0%;
        transition: width 0.5s ease;
    }

    /* Results Section */
    .result-container {
        display: none;
        text-align: center;
        animation: fadeIn 0.5s ease;
    }

    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(20px);
        }

        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .result-header {
        margin-bottom: 2rem;
    }

    .result-header h2 {
        font-size: 2rem;
        color: #8b0000;
        font-family: 'Playfair Display', serif;
    }

    .score-cards {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1.5rem;
        margin: 2rem 0;
    }

    .score-card {
        background: linear-gradient(135deg, #fff, #fafafa);
        border-radius: 20px;
        padding: 1.5rem;
        border: 2px solid #eee;
    }

    .score-card.total {
        background: linear-gradient(135deg, #8b0000, #5c0000);
        color: white;
        border: none;
        grid-column: 1 / -1;
    }

    .score-card h3 {
        font-size: 1rem;
        margin-bottom: 0.5rem;
        opacity: 0.8;
    }

    .score-card .score {
        font-size: 3rem;
        font-weight: 900;
    }

    .score-card .max-score {
        font-size: 1rem;
        opacity: 0.7;
    }

    .result-description {
        background: #f8f9fa;
        border-radius: 20px;
        padding: 2rem;
        margin: 2rem 0;
        text-align: left;
    }

    .result-description h3 {
        color: #8b0000;
        margin-bottom: 1rem;
    }

    .result-description p {
        line-height: 1.8;
        color: #555;
    }

    .retry-btn {
        background: white;
        color: #8b0000;
        border: 2px solid #8b0000;
        padding: 1rem 2rem;
        border-radius: 50px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
        margin-top: 1rem;
    }

    .retry-btn:hover {
        background: #8b0000;
        color: white;
    }

    .source-info {
        margin-top: 2rem;
        padding: 1rem;
        background: #f0f0f0;
        border-radius: 10px;
        font-size: 0.8rem;
        color: #666;
    }

    @media (max-width: 600px) {
        .options-row {
            flex-direction: column;
        }

        .option-label {
            min-width: 100%;
        }

        .empathy-card {
            padding: 1.5rem;
            border-radius: 20px;
        }

        .question-item {
            padding: 1rem;
        }
    }
</style>

<div class="empathy-page">
    <div class="empathy-card">
        <!-- Quiz Form -->
        <div id="quiz-form">
            <div class="empathy-header">
                <h1>Tarihsel Empatinizi √ñl√ßelim</h1>
                <p>A≈üaƒüƒ±da, kendinizi tanƒ±mlamakla ilgili ifadeler yer almaktadƒ±r. Size en uygun se√ßeneƒüi i≈üaretleyerek
                    tarihsel empati d√ºzeyinizi √∂l√ßebilirsiniz.</p>
            </div>

            <div class="progress-indicator">
                <span id="answered-count">0</span> / 12 soru yanƒ±tlandƒ±
                <div class="progress-bar">
                    <div id="progress-fill" class="progress-fill"></div>
                </div>
            </div>

            <form id="empathy-form">
                <!-- Question 1 -->
                <div class="question-item" data-question="1">
                    <div class="question-text">
                        <span class="question-number">1</span>
                        Ge√ßmi≈üte ya≈üamƒ±≈ü insanlarƒ±n ne d√º≈ü√ºnd√ºklerini anlayabilirim.
                    </div>
                    <div class="options-row">
                        <label class="option-label"><input type="radio" name="q1" value="1"><span>Hi√ßbir
                                zaman</span></label>
                        <label class="option-label"><input type="radio" name="q1" value="2"><span>Nadiren</span></label>
                        <label class="option-label"><input type="radio" name="q1" value="3"><span>Bazen</span></label>
                        <label class="option-label"><input type="radio" name="q1"
                                value="4"><span>Genellikle</span></label>
                        <label class="option-label"><input type="radio" name="q1" value="5"><span>Her
                                zaman</span></label>
                    </div>
                </div>

                <!-- Question 2 -->
                <div class="question-item" data-question="2">
                    <div class="question-text">
                        <span class="question-number">2</span>
                        Tarihte toplumlara liderlik etmi≈ü bir kahramanƒ± model alƒ±rƒ±m.
                    </div>
                    <div class="options-row">
                        <label class="option-label"><input type="radio" name="q2" value="1"><span>Hi√ßbir
                                zaman</span></label>
                        <label class="option-label"><input type="radio" name="q2" value="2"><span>Nadiren</span></label>
                        <label class="option-label"><input type="radio" name="q2" value="3"><span>Bazen</span></label>
                        <label class="option-label"><input type="radio" name="q2"
                                value="4"><span>Genellikle</span></label>
                        <label class="option-label"><input type="radio" name="q2" value="5"><span>Her
                                zaman</span></label>
                    </div>
                </div>

                <!-- Question 3 -->
                <div class="question-item" data-question="3">
                    <div class="question-text">
                        <span class="question-number">3</span>
                        ƒ∞nsanlƒ±ƒüƒ± olumsuz etkileyen olaylarƒ± dinlerken √ºz√ºl√ºr√ºm.
                    </div>
                    <div class="options-row">
                        <label class="option-label"><input type="radio" name="q3" value="1"><span>Hi√ßbir
                                zaman</span></label>
                        <label class="option-label"><input type="radio" name="q3" value="2"><span>Nadiren</span></label>
                        <label class="option-label"><input type="radio" name="q3" value="3"><span>Bazen</span></label>
                        <label class="option-label"><input type="radio" name="q3"
                                value="4"><span>Genellikle</span></label>
                        <label class="option-label"><input type="radio" name="q3" value="5"><span>Her
                                zaman</span></label>
                    </div>
                </div>

                <!-- Question 4 -->
                <div class="question-item" data-question="4">
                    <div class="question-text">
                        <span class="question-number">4</span>
                        Kendimi tarihte ya≈üamƒ±≈ü bir √ßocuƒüun yerine koyabilirim.
                    </div>
                    <div class="options-row">
                        <label class="option-label"><input type="radio" name="q4" value="1"><span>Hi√ßbir
                                zaman</span></label>
                        <label class="option-label"><input type="radio" name="q4" value="2"><span>Nadiren</span></label>
                        <label class="option-label"><input type="radio" name="q4" value="3"><span>Bazen</span></label>
                        <label class="option-label"><input type="radio" name="q4"
                                value="4"><span>Genellikle</span></label>
                        <label class="option-label"><input type="radio" name="q4" value="5"><span>Her
                                zaman</span></label>
                    </div>
                </div>

                <!-- Question 5 -->
                <div class="question-item" data-question="5">
                    <div class="question-text">
                        <span class="question-number">5</span>
                        Eski d√∂nemlere ait g√∂rd√ºƒü√ºm tarihi nesneler beni heyecanlandƒ±rƒ±r.
                    </div>
                    <div class="options-row">
                        <label class="option-label"><input type="radio" name="q5" value="1"><span>Hi√ßbir
                                zaman</span></label>
                        <label class="option-label"><input type="radio" name="q5" value="2"><span>Nadiren</span></label>
                        <label class="option-label"><input type="radio" name="q5" value="3"><span>Bazen</span></label>
                        <label class="option-label"><input type="radio" name="q5"
                                value="4"><span>Genellikle</span></label>
                        <label class="option-label"><input type="radio" name="q5" value="5"><span>Her
                                zaman</span></label>
                    </div>
                </div>

                <!-- Question 6 -->
                <div class="question-item" data-question="6">
                    <div class="question-text">
                        <span class="question-number">6</span>
                        Ge√ßmi≈üte ya≈üamƒ±≈ü g√º√ßl√º karakterler gibi davrandƒ±ƒüƒ±m olur.
                    </div>
                    <div class="options-row">
                        <label class="option-label"><input type="radio" name="q6" value="1"><span>Hi√ßbir
                                zaman</span></label>
                        <label class="option-label"><input type="radio" name="q6" value="2"><span>Nadiren</span></label>
                        <label class="option-label"><input type="radio" name="q6" value="3"><span>Bazen</span></label>
                        <label class="option-label"><input type="radio" name="q6"
                                value="4"><span>Genellikle</span></label>
                        <label class="option-label"><input type="radio" name="q6" value="5"><span>Her
                                zaman</span></label>
                    </div>
                </div>

                <!-- Question 7 -->
                <div class="question-item" data-question="7">
                    <div class="question-text">
                        <span class="question-number">7</span>
                        Tarihe y√∂n vermi≈ü ki≈üilerin hayat hik√¢yelerini dinlerken heyecanlanƒ±rƒ±m.
                    </div>
                    <div class="options-row">
                        <label class="option-label"><input type="radio" name="q7" value="1"><span>Hi√ßbir
                                zaman</span></label>
                        <label class="option-label"><input type="radio" name="q7" value="2"><span>Nadiren</span></label>
                        <label class="option-label"><input type="radio" name="q7" value="3"><span>Bazen</span></label>
                        <label class="option-label"><input type="radio" name="q7"
                                value="4"><span>Genellikle</span></label>
                        <label class="option-label"><input type="radio" name="q7" value="5"><span>Her
                                zaman</span></label>
                    </div>
                </div>

                <!-- Question 8 -->
                <div class="question-item" data-question="8">
                    <div class="question-text">
                        <span class="question-number">8</span>
                        Ge√ßmi≈üte ya≈üanƒ±lan olumsuzluklarƒ±n √ß√∂z√ºm√º i√ßin o d√∂neme uygun yeni fikirler √ºretebilirim.
                    </div>
                    <div class="options-row">
                        <label class="option-label"><input type="radio" name="q8" value="1"><span>Hi√ßbir
                                zaman</span></label>
                        <label class="option-label"><input type="radio" name="q8" value="2"><span>Nadiren</span></label>
                        <label class="option-label"><input type="radio" name="q8" value="3"><span>Bazen</span></label>
                        <label class="option-label"><input type="radio" name="q8"
                                value="4"><span>Genellikle</span></label>
                        <label class="option-label"><input type="radio" name="q8" value="5"><span>Her
                                zaman</span></label>
                    </div>
                </div>

                <!-- Question 9 -->
                <div class="question-item" data-question="9">
                    <div class="question-text">
                        <span class="question-number">9</span>
                        Tarihi nesnelerin ait olduƒüu d√∂nemdeki √∂nemini hissederim.
                    </div>
                    <div class="options-row">
                        <label class="option-label"><input type="radio" name="q9" value="1"><span>Hi√ßbir
                                zaman</span></label>
                        <label class="option-label"><input type="radio" name="q9" value="2"><span>Nadiren</span></label>
                        <label class="option-label"><input type="radio" name="q9" value="3"><span>Bazen</span></label>
                        <label class="option-label"><input type="radio" name="q9"
                                value="4"><span>Genellikle</span></label>
                        <label class="option-label"><input type="radio" name="q9" value="5"><span>Her
                                zaman</span></label>
                    </div>
                </div>

                <!-- Question 10 -->
                <div class="question-item" data-question="10">
                    <div class="question-text">
                        <span class="question-number">10</span>
                        Kritik bir durumda tarihe y√∂n vermi≈ü ki≈üiler gibi karar verebilirim.
                    </div>
                    <div class="options-row">
                        <label class="option-label"><input type="radio" name="q10" value="1"><span>Hi√ßbir
                                zaman</span></label>
                        <label class="option-label"><input type="radio" name="q10"
                                value="2"><span>Nadiren</span></label>
                        <label class="option-label"><input type="radio" name="q10" value="3"><span>Bazen</span></label>
                        <label class="option-label"><input type="radio" name="q10"
                                value="4"><span>Genellikle</span></label>
                        <label class="option-label"><input type="radio" name="q10" value="5"><span>Her
                                zaman</span></label>
                    </div>
                </div>

                <!-- Question 11 -->
                <div class="question-item" data-question="11">
                    <div class="question-text">
                        <span class="question-number">11</span>
                        Tarihi filmleri izlerken ordaymƒ±≈üƒ±m gibi olur.
                    </div>
                    <div class="options-row">
                        <label class="option-label"><input type="radio" name="q11" value="1"><span>Hi√ßbir
                                zaman</span></label>
                        <label class="option-label"><input type="radio" name="q11"
                                value="2"><span>Nadiren</span></label>
                        <label class="option-label"><input type="radio" name="q11" value="3"><span>Bazen</span></label>
                        <label class="option-label"><input type="radio" name="q11"
                                value="4"><span>Genellikle</span></label>
                        <label class="option-label"><input type="radio" name="q11" value="5"><span>Her
                                zaman</span></label>
                    </div>
                </div>

                <!-- Question 12 -->
                <div class="question-item" data-question="12">
                    <div class="question-text">
                        <span class="question-number">12</span>
                        Ge√ßmi≈üteki olaylarƒ±n sonu√ßlarƒ±nƒ± tahmin edebilirim.
                    </div>
                    <div class="options-row">
                        <label class="option-label"><input type="radio" name="q12" value="1"><span>Hi√ßbir
                                zaman</span></label>
                        <label class="option-label"><input type="radio" name="q12"
                                value="2"><span>Nadiren</span></label>
                        <label class="option-label"><input type="radio" name="q12" value="3"><span>Bazen</span></label>
                        <label class="option-label"><input type="radio" name="q12"
                                value="4"><span>Genellikle</span></label>
                        <label class="option-label"><input type="radio" name="q12" value="5"><span>Her
                                zaman</span></label>
                    </div>
                </div>

                <div class="submit-section">
                    <button type="button" id="submit-btn" class="submit-btn" onclick="calculateResults()" disabled>
                        Sonu√ßlarƒ± G√∂r
                    </button>
                    <p style="margin-top: 1rem; color: #888; font-size: 0.9rem;">T√ºm sorularƒ± yanƒ±tlamanƒ±z
                        gerekmektedir.</p>
                </div>
            </form>
        </div>

        <!-- Results Section -->
        <div id="result-container" class="result-container">
            <div class="result-header">
                <h2>üéØ Tarihsel Empati Sonu√ßlarƒ±nƒ±z</h2>
            </div>

            <div class="score-cards">
                <div class="score-card">
                    <h3>üìö Bili≈üsel Empati</h3>
                    <div class="score" id="cognitive-score">0</div>
                    <div class="max-score">/ 35 puan</div>
                </div>
                <div class="score-card">
                    <h3>üíñ Duyu≈üsal Empati</h3>
                    <div class="score" id="affective-score">0</div>
                    <div class="max-score">/ 25 puan</div>
                </div>
                <div class="score-card total">
                    <h3>üèÜ Toplam Tarihsel Empati Puanƒ±</h3>
                    <div class="score" id="total-score">0</div>
                    <div class="max-score">/ 60 puan</div>
                </div>
            </div>

            <div class="result-description">
                <h3>üìä Deƒüerlendirme</h3>
                <p id="result-feedback"></p>
            </div>

            <div class="source-info">
                <strong>Kaynak:</strong> √áalƒ±≈ükan, H. & Demir, B. (2019). Ergenlerde tarihsel empati √∂l√ßeƒüinin
                geli≈ütirilmesi: Ge√ßerlik ve g√ºvenirlik √ßalƒ±≈ümasƒ±. <em>Turkish History Education Journal</em>, 8(1),
                129-149. DOI:10.17497/tuhed.557538
            </div>

            <button class="retry-btn" onclick="router.navigate('empathy')">
                <i class="fas fa-redo"></i> Tekrar Dene
            </button>
        </div>
    </div>
</div>

<script>
    (function () {
        // Bili≈üsel alt boyut maddeleri: 1,2,4,6,8,10,12
        const cognitiveItems = [1, 2, 4, 6, 8, 10, 12];
        // Duyu≈üsal alt boyut maddeleri: 3,5,7,9,11
        const affectiveItems = [3, 5, 7, 9, 11];

        // Track answered questions and update progress
        function updateProgress() {
            let answered = 0;
            for (let i = 1; i <= 12; i++) {
                const selected = document.querySelector(`input[name="q${i}"]:checked`);
                const questionItem = document.querySelector(`.question-item[data-question="${i}"]`);
                if (selected) {
                    answered++;
                    questionItem.classList.add('answered');
                } else {
                    questionItem.classList.remove('answered');
                }
            }

            document.getElementById('answered-count').textContent = answered;
            document.getElementById('progress-fill').style.width = (answered / 12 * 100) + '%';
            document.getElementById('submit-btn').disabled = (answered < 12);
        }

        // Add event listeners to all radio buttons
        document.querySelectorAll('input[type="radio"]').forEach(radio => {
            radio.addEventListener('change', updateProgress);
        });

        // Calculate and show results
        window.calculateResults = function () {
            let cognitiveScore = 0;
            let affectiveScore = 0;

            // Calculate cognitive score
            cognitiveItems.forEach(item => {
                const selected = document.querySelector(`input[name="q${item}"]:checked`);
                if (selected) cognitiveScore += parseInt(selected.value);
            });

            // Calculate affective score
            affectiveItems.forEach(item => {
                const selected = document.querySelector(`input[name="q${item}"]:checked`);
                if (selected) affectiveScore += parseInt(selected.value);
            });

            const totalScore = cognitiveScore + affectiveScore;

            // Display scores
            document.getElementById('cognitive-score').textContent = cognitiveScore;
            document.getElementById('affective-score').textContent = affectiveScore;
            document.getElementById('total-score').textContent = totalScore;

            // Generate feedback
            let feedback = '';
            const percentage = (totalScore / 60) * 100;

            if (percentage >= 80) {
                feedback = `<strong>√áok Y√ºksek Tarihsel Empati (${totalScore}/60)</strong><br><br>
            Tarihsel empati d√ºzeyiniz olduk√ßa y√ºksek! Ge√ßmi≈üte ya≈üamƒ±≈ü insanlarƒ±n d√º≈ü√ºncelerini ve duygularƒ±nƒ± anlama konusunda g√º√ßl√º bir yeteneƒüiniz var. 
            Tarihi olaylarƒ± sadece bilgi olarak deƒüil, o d√∂nemin insanlarƒ±nƒ±n g√∂z√ºnden de g√∂rebiliyorsunuz. Bu yeteneƒüiniz, ge√ßmi≈üi anlamlandƒ±rmanƒ±zda size b√ºy√ºk avantaj saƒülƒ±yor.`;
            } else if (percentage >= 60) {
                feedback = `<strong>Y√ºksek Tarihsel Empati (${totalScore}/60)</strong><br><br>
            Tarihsel empati d√ºzeyiniz iyi seviyede! Ge√ßmi≈üe dair olaylarƒ± ve ki≈üileri anlamaya √ßalƒ±≈üƒ±yorsunuz. 
            Bili≈üsel empati puanƒ±nƒ±z: ${cognitiveScore}/35, Duyu≈üsal empati puanƒ±nƒ±z: ${affectiveScore}/25. 
            ƒ∞stikbal Gazetesi ar≈üivini inceleyerek bu yeteneklerinizi daha da geli≈ütirebilirsiniz.`;
            } else if (percentage >= 40) {
                feedback = `<strong>Orta D√ºzey Tarihsel Empati (${totalScore}/60)</strong><br><br>
            Tarihsel empati d√ºzeyiniz orta seviyede. Ge√ßmi≈üi anlamak i√ßin potansiyeliniz var ancak daha fazla pratik yapabilirsiniz. 
            Tarihi belgeleri, eski gazeteleri ve d√∂nemin tanƒ±klƒ±klarƒ±nƒ± okumak empati yeteneƒüinizi artƒ±rabilir. 
            ƒ∞stikbal Gazetesi ar≈üivi bu konuda size yardƒ±mcƒ± olabilir!`;
            } else {
                feedback = `<strong>Geli≈ütirilmesi Gereken Tarihsel Empati (${totalScore}/60)</strong><br><br>
            Tarihsel empati d√ºzeyinizi geli≈ütirmek i√ßin fƒ±rsatlarƒ±nƒ±z var! Ge√ßmi≈üte ya≈üamƒ±≈ü insanlarƒ±n perspektifinden bakmayƒ± deneyebilirsiniz. 
            Tarihi romanlar, belgeseller ve ar≈üiv belgeleri bu konuda size yardƒ±mcƒ± olabilir. 
            ƒ∞stikbal Gazetesi'nin dijital ar≈üivi, Milli M√ºcadele d√∂neminin ruhunu hissetmeniz i√ßin harika bir kaynak!`;
            }

            document.getElementById('result-feedback').innerHTML = feedback;

            // Show results, hide form
            document.getElementById('quiz-form').style.display = 'none';
            document.getElementById('result-container').style.display = 'block';

            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        };
    })();
</script>